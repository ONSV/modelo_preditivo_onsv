TRUE ~ classificacao_acidente
)
)
mortes <- acidentes |>
group_by(ano) |>
summarise(
qnt_acidentes = n(),
qnt_acidentes_fatais = sum(classificacao_acidente == "Com Vítimas Fatais"),
qnt_feridos = sum(feridos),
qnt_mortos = sum(mortos)
)
}
#testando a função
testes <- datatran_extract(datatran2007)
testes
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[1])
tratado <- datatran_extract(df_temp)
tratado
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[1])
tratado <- datatran_extract(datatran2007)
tratado
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[1])
df_temp
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[1])
df_temp |> datatran_extract()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[1])
df_temp |> datatran_extract() |> view()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[1])
datatran2007 |> datatran_extract() |> view()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[1], locale = locale(encoding = "latin1"))
datatran2007 |> datatran_extract() |> view()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[10], locale = locale(encoding = "latin1"))
datatran2007 |> datatran_extract() |> view()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[1], locale = locale(encoding = "latin1"))
df_temp |> datatran_extract() |> view()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[10], locale = locale(encoding = "latin1"))
df_temp |> datatran_extract() |> view()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[15], locale = locale(encoding = "latin1"))
df_temp |> datatran_extract() |> view()
ls()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[15], locale = locale(encoding = "latin1"))
ls()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp <- read_csv2(enderecos[15], locale = locale(encoding = "latin1"))
if("datatran_anos" %in% ls()){
rm("datatran_anos")
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp2 <- read_csv2(enderecos[2], locale = locale(encoding = "latin1")) |> datatran_extract()
View(df_temp1)
View(df_temp2)
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp2 <- read_csv2(enderecos[2], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp3 <- rbind(df_temp1,df_temp2)
View(df_temp3)
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp2 <- read_csv2(enderecos[2], locale = locale(encoding = "latin1")) |> datatran_extract()
rm("df_temp3")
df_temp3 <- rbind(df_temp1,df_temp2)
View(df_temp3)
exists("df_temp3")
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp2 <- read_csv2(enderecos[2], locale = locale(encoding = "latin1")) |> datatran_extract()
rm("df_temp3")
for(i in enderecos){
df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
if(exists("datatran_anos" == FALSE)){
datatran_anos <- tratado_temp
}
else{
datatran_anos <- rbind(datatran_anos,tratado_temp)
}
}
problems()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp2 <- read_csv2(enderecos[2], locale = locale(encoding = "latin1")) |> datatran_extract()
rm("df_temp3")
for(i in enderecos){
df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
if(exists("datatran_anos" == FALSE)){
datatran_anos <- tratado_temp
}
else{
datatran_anos <- rbind(datatran_anos,tratado_temp)
}
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp2 <- read_csv2(enderecos[2], locale = locale(encoding = "latin1")) |> datatran_extract()
rm("datatran_anos")
for(i in enderecos){
df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
if(exists("datatran_anos" == FALSE)){
datatran_anos <- tratado_temp
}
else{
datatran_anos <- rbind(datatran_anos,tratado_temp)
}
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract() |> view()
# rm("datatran_anos")
#
# for(i in enderecos){
#   df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
#   tratado_temp <- df_temp |> datatran_extract()
#
#   if(exists("datatran_anos" == FALSE)){
#     datatran_anos <- tratado_temp
#   }
#   else{
#     datatran_anos <- rbind(datatran_anos,tratado_temp)
#   }
# }
#
# datatran_anos
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp1
# rm("datatran_anos")
#
# for(i in enderecos){
#   df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
#   tratado_temp <- df_temp |> datatran_extract()
#
#   if(exists("datatran_anos" == FALSE)){
#     datatran_anos <- tratado_temp
#   }
#   else{
#     datatran_anos <- rbind(datatran_anos,tratado_temp)
#   }
# }
#
# datatran_anos
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[2], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp1
# rm("datatran_anos")
#
# for(i in enderecos){
#   df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
#   tratado_temp <- df_temp |> datatran_extract()
#
#   if(exists("datatran_anos" == FALSE)){
#     datatran_anos <- tratado_temp
#   }
#   else{
#     datatran_anos <- rbind(datatran_anos,tratado_temp)
#   }
# }
#
# datatran_anos
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[3], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp1
# rm("datatran_anos")
#
# for(i in enderecos){
#   df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
#   tratado_temp <- df_temp |> datatran_extract()
#
#   if(exists("datatran_anos" == FALSE)){
#     datatran_anos <- tratado_temp
#   }
#   else{
#     datatran_anos <- rbind(datatran_anos,tratado_temp)
#   }
# }
#
# datatran_anos
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[4], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp1
# rm("datatran_anos")
#
# for(i in enderecos){
#   df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
#   tratado_temp <- df_temp |> datatran_extract()
#
#   if(exists("datatran_anos" == FALSE)){
#     datatran_anos <- tratado_temp
#   }
#   else{
#     datatran_anos <- rbind(datatran_anos,tratado_temp)
#   }
# }
#
# datatran_anos
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp1
# rm("datatran_anos")
#
# for(i in enderecos){
#   df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
#   tratado_temp <- df_temp |> datatran_extract()
#
#   if(exists("datatran_anos" == FALSE)){
#     datatran_anos <- tratado_temp
#   }
#   else{
#     datatran_anos <- rbind(datatran_anos,tratado_temp)
#   }
# }
#
# datatran_anos
rm("df_temp","df_temp1","df_temp2")
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
# df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
# df_temp1
if("datatran_anos" |> exists()){
rm("datatran_anos")
}
for(i in enderecos){
df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
print(tratado_temp)
# if(exists("datatran_anos" == FALSE)){
#   datatran_anos <- tratado_temp
# }
# else{
#   datatran_anos <- rbind(datatran_anos,tratado_temp)
# }
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
# df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
# df_temp1
if("datatran_anos" |> exists()){
rm("datatran_anos")
}
for(i in enderecos){
df_temp <- read.csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
# if(exists("datatran_anos" == FALSE)){
#   datatran_anos <- tratado_temp
# }
# else{
#   datatran_anos <- rbind(datatran_anos,tratado_temp)
# }
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
# df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
# df_temp1
if("datatran_anos" |> exists()){
rm("datatran_anos")
}
for(i in enderecos){
df_temp <- read_csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
if(exists("datatran_anos" == FALSE)){
datatran_anos <- tratado_temp
}
else{
datatran_anos <- rbind(datatran_anos,tratado_temp)
}
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
# df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
# df_temp1
if("datatran_anos" |> exists()){
rm("datatran_anos")
}
for(i in enderecos){
df_temp <- read_csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
if(exists("datatran_anos") == FALSE){
datatran_anos <- tratado_temp
}
else{
datatran_anos <- rbind(datatran_anos,tratado_temp)
}
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
# df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
# df_temp1
if("datatran_anos" |> exists()){
rm("datatran_anos")
}
for(i in enderecos){
df_temp <- read_csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
# df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
# df_temp1
if(exists("datatran_anos")){
rm("datatran_anos")
}
for(i in enderecos){
df_temp <- read_csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
# df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
# df_temp1
for(i in enderecos){
df_temp <- read_csv2(enderecos[i], locale = locale(encoding = "latin1"))
tratado_temp <- df_temp |> datatran_extract()
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp1
# for(i in enderecos){
#   df_temp <- read_csv2(enderecos[i], locale = locale(encoding = "latin1"))
#   tratado_temp <- df_temp |> datatran_extract()
# }
datatran_anos
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
df_temp1
# for(i in enderecos){
#   df_temp <- read_csv2(enderecos[i], locale = locale(encoding = "latin1"))
#   tratado_temp <- df_temp |> datatran_extract()
# }
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[5], locale = locale(encoding = "latin1")) |> datatran_extract()
for(i in enderecos){
df_temp <- read_csv2(enderecos[i], locale = locale(encoding = "latin1")) |> datatran_extract()
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[k], locale = locale(encoding = "latin1")) |> datatran_extract()
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
for(i in enderecos){
df_temp <- read_csv2(enderecos[i], locale = locale(encoding = "latin1")) |> datatran_extract()
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
for(i in enderecos){
# df_temp <- read_csv2(i, locale = locale(encoding = "latin1")) |> datatran_extract()
print(i)
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
for(i in enderecos){
df_temp <- read_csv2(i, locale = locale(encoding = "latin1")) |> datatran_extract()
}
View(df_temp)
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
if("datatran_anos" |>  exists()){
rm("datatran_anos")
}
for(i in enderecos){
# df_temp <- read_csv2(i, locale = locale(encoding = "latin1")) |> datatran_extract()
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
if("datatran_anos" |>  exists()){
rm("datatran_anos")
}
for(i in enderecos){
# df_temp <- read_csv2(i, locale = locale(encoding = "latin1")) |> datatran_extract()
print(i)
}
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
if("datatran_anos" |>  exists()){
rm("datatran_anos")
}
for(i in enderecos){
# df_temp <- read_csv2(i, locale = locale(encoding = "latin1")) |> datatran_extract()
if(exists("datatran_anos")){
datatran_anos <- rbind(datatran_anos, df_temp)
}
else{
datatran_anos <- df_temp
}
}
datatran_anos
View(datatran_anos)
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
if("datatran_anos" |>  exists()){
rm("datatran_anos")
}
for(i in enderecos){
df_temp <- read_csv2(i, locale = locale(encoding = "latin1")) |> datatran_extract()
if(exists("datatran_anos")){
datatran_anos <- rbind(datatran_anos, df_temp)
}
else{
datatran_anos <- df_temp
}
}
datatran_anos
View(acidentes2007)
View(datatran_anos)
View(datatran_anos)
#criação de loop para a importação de todos os anos
k <- seq(2007,2021,1)
enderecos <- print(paste("datatran/datatran",k,"/datatran",k,".csv",sep = ""))
# df_temp1 <- read_csv2(enderecos[1], locale = locale(encoding = "latin1")) |> datatran_extract()
if("datatran_anos" |>  exists()){
rm("datatran_anos")
}
for(i in enderecos){
df_temp <- read_csv2(i, locale = locale(encoding = "latin1")) |> datatran_extract()
if(exists("datatran_anos")){
datatran_anos <- bind_rows(datatran_anos, df_temp)
}
else{
datatran_anos <- df_temp
}
}
datatran_anos
